<div class="flex flex-col items-center justify-center h-screen w-screen bg-gray-100">
  <div class="relative flex flex-col w-full md:w-1/3 h-4/5 rounded-lg bg-white shadow-lg">
    <!-- Header -->
    <div class="flex items-center bg-blue-600 text-white rounded-t-lg px-4 py-2">
      <img src="geng.jpeg" alt="Chatbot Icon" class="w-8 h-8 rounded-full mr-3">
      <div>
        <h1 class="text-lg font-medium">Chatbot</h1>
        <div class="flex items-center gap-1 text-sm">
          <span class="w-2 h-2 bg-green-500 rounded-full"></span>
          <span>Online</span>
        </div>
      </div>
    </div>

    <!-- Chat Content -->
    <div #messageContainer class="flex-grow overflow-y-auto p-4 space-y-3">
      <div *ngFor="let message of messages" class="flex" [ngClass]="{
                  'justify-start': message.type === 'bot',
                  'justify-end': message.type === 'user'
              }">
        <div class="px-4 py-2 rounded-lg text-sm max-w-[75%]" [ngClass]="{
                    'bg-blue-500 text-white': message.type === 'bot',
                    'bg-gray-200 text-black': message.type === 'user'
                }">
          {{ message.text }}
        </div>
      </div>
    </div>

    <!-- Chat Actions -->
    <div class="flex items-center gap-3 px-4 py-3 bg-gray-100 rounded-b-lg">
      <form [formGroup]="form" class="flex-grow flex gap-3" (ngSubmit)="onClickSendMessage()">
        <textarea formControlName="message"
          class="flex-grow p-2 text-sm border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="Type a message..." (keydown.enter)="onClickEnter($event)"></textarea>
        <button type="submit"
          class="p-2 text-white bg-blue-500 rounded-full hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300"
          [disabled]="!form.valid || !canSendMessage" aria-label="Send">
          <mat-icon>send</mat-icon>
        </button>
      </form>
    </div>
  </div>
</div>